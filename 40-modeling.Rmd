---
title: "40-modeling"
output: html_notebook
---

# Prepare data for modeling

A new data frame for modeling with new engineering features is generated by applying the fuctions created in 30-feature-engineering.

```{r, prepare_for_modeling}
hr_analytics_modeling_csv <- "hr_analytics_modeling.csv"

hr_analytics_modeling <- hr_analytics %>% 
  standardized_job_satisfaction_level_relative_department(satisfaction_level) %>% 
  standardized_last_evaluation_relative_department(last_evaluation) %>% 
  # standardized_number_project_relative_department(number_project) %>% 
  # standarized_average_monthly_hours_relative_department(average_monthly_hours) %>% 
  select(contains("rel_department"), department, left) %>% 
  write_csv(hr_analytics_modeling_csv)

head(hr_analytics_modeling)
```

# Test new data frame

Here I check the new data frame, whether their are any missing value for all the variables, or any outliers over 3 standard deviation from the average for the standardized variables.  As a good new data frame with standardized new features, it should not contain any missing value or outlier over 3 standard deviation from the average. 

```{r, test_new_dataframe}
hr_analytics_modeling %>% 
  assert(not_na, everything()) %>% 
  assert(within_bounds(-3,3), satisfaction_level_rel_department, last_evaluation_rel_department # number_project_rel_department, average_monthly_hours_rel_department
  )
```





